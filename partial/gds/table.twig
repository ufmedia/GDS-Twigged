{% if caption is defined and headers is defined and headers is not empty and rows is defined and rows is not empty %}
    <table class="govuk-table">
        <caption class="govuk-table__caption govuk-table__caption--m">
            {{ caption }}
        </caption>
        <thead class="govuk-table__head">
            <tr class="govuk-table__row">
                {% for header in headers %}
                    <th scope="col" class="govuk-table__header">
                        {{ header }}
                    </th>
                {% endfor %}
            </tr>
        </thead>
        <tbody class="govuk-table__body">
            {% for row in rows %}
                <tr class="govuk-table__row">
                    {% for cell in row %}
                        <td class="govuk-table__cell">
                            {{ cell }}
                        </td>
                    {% endfor %}
                </tr>
            {% endfor %}
        </tbody>
    </table>
{% endif %}

{# Usage
{% set caption = 'Dates and amounts' %}
{% set headers = ['Date', 'Amount'] %}
{% set rows = [
    ['First 6 weeks', '£109.80 per week'],
    ['Next 33 weeks', '£109.80 per week'],
    ['Total estimated pay', '£4,282.20']
] %}

{% include 'partial/gds/table.twig' with { 
    'caption': caption,
    'headers': headers,
    'rows': rows
} %}
#}
